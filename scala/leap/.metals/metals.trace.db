2024-10-19 22:16:12.293827+02:00 database: flush
org.h2.message.DbException: Out of memory. [90108-230]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:401)
	at org.h2.mvstore.db.Store.lambda$new$0(Store.java:122)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:1546)
	at org.h2.mvstore.FileStore.writeInBackground(FileStore.java:1845)
	at org.h2.mvstore.FileStore$BackgroundWriterThread.run(FileStore.java:2254)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Out of memory. [90108-230]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 6 more
Caused by: java.lang.OutOfMemoryError: Java heap space
	at java.base/java.util.concurrent.ConcurrentHashMap$ValuesView.iterator(ConcurrentHashMap.java:4748)
	at org.h2.mvstore.MVStore.hasUnsavedChanges(MVStore.java:908)
	at org.h2.mvstore.MVStore.store(MVStore.java:796)
	at org.h2.mvstore.MVStore.tryCommit(MVStore.java:744)
	at org.h2.mvstore.MVStore.tryCommit(MVStore.java:737)
	at org.h2.mvstore.FileStore.writeInBackground(FileStore.java:1837)
	... 1 more
2024-10-19 22:16:12.302586+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Out of memory. [90108-230]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.Database.throwLastBackgroundException(Database.java:1816)
	at org.h2.engine.SessionLocal.beforeCommitOrRollback(SessionLocal.java:769)
	at org.h2.engine.SessionLocal.commit(SessionLocal.java:684)
	at org.h2.command.Command.stop(Command.java:162)
	at org.h2.command.Command.executeQuery(Command.java:235)
	at org.h2.jdbc.JdbcPreparedStatement.executeQuery(JdbcPreparedStatement.java:130)
	at scala.meta.internal.metals.JdbcEnrichments$XtensionConnection.query(JdbcEnrichments.scala:37)
	at scala.meta.internal.metals.DependencySources.getBuildTarget(DependencySources.scala:27)
	at scala.meta.internal.metals.BuildTargets.$anonfun$inverseSources$2(BuildTargets.scala:259)
	at scala.Option.flatMap(Option.scala:283)
	at scala.meta.internal.metals.BuildTargets.inverseSources(BuildTargets.scala:259)
	at scala.meta.internal.metals.Compilers.fromBuildTarget$1(Compilers.scala:1070)
	at scala.meta.internal.metals.Compilers.loadCompiler(Compilers.scala:1095)
	at scala.meta.internal.metals.Compilers.didChange(Compilers.scala:229)
	at scala.meta.internal.metals.MetalsLspService.didChange(MetalsLspService.scala:871)
	at scala.meta.internal.metals.ProjectMetalsLspService.didChange(ProjectMetalsLspService.scala:242)
	at scala.meta.internal.metals.WorkspaceLspService.didChange(WorkspaceLspService.scala:407)
	at scala.meta.metals.lsp.DelegatingScalaService.didChange(DelegatingScalaService.scala:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$recursiveFindRpcMethods$0(GenericEndpoint.java:65)
	at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.notify(GenericEndpoint.java:160)
	at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleNotification(RemoteEndpoint.java:231)
	at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:198)
	at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:185)
	at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:97)
	at org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:114)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.h2.message.DbException: Out of memory. [90108-230]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:401)
	at org.h2.mvstore.db.Store.lambda$new$0(Store.java:122)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:1546)
	at org.h2.mvstore.FileStore.writeInBackground(FileStore.java:1845)
	at org.h2.mvstore.FileStore$BackgroundWriterThread.run(FileStore.java:2254)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Out of memory. [90108-230]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 6 more
Caused by: java.lang.OutOfMemoryError: Java heap space
	at java.base/java.util.concurrent.ConcurrentHashMap$ValuesView.iterator(ConcurrentHashMap.java:4748)
	at org.h2.mvstore.MVStore.hasUnsavedChanges(MVStore.java:908)
	at org.h2.mvstore.MVStore.store(MVStore.java:796)
	at org.h2.mvstore.MVStore.tryCommit(MVStore.java:744)
	at org.h2.mvstore.MVStore.tryCommit(MVStore.java:737)
	at org.h2.mvstore.FileStore.writeInBackground(FileStore.java:1837)
	... 1 more
2024-10-19 22:27:19.023771+02:00 database: opening /Users/mahmood/Exercism/scala/leap/.metals/metals
org.h2.message.DbException: Error opening database: "Sleep interrupted" [8000-230]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.store.FileLock.getExceptionFatal(FileLock.java:429)
	at org.h2.store.FileLock.sleep(FileLock.java:424)
	at org.h2.store.FileLock.lockFile(FileLock.java:334)
	at org.h2.store.FileLock.lock(FileLock.java:110)
	at org.h2.engine.Database.<init>(Database.java:317)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:344)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.Driver.connect(Driver.java:59)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:682)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)
	at scala.meta.internal.metals.H2ConnectionProvider.upgradeIfNeeded(H2ConnectionProvider.scala:132)
	at scala.meta.internal.metals.H2ConnectionProvider.persistentConnection(H2ConnectionProvider.scala:108)
	at scala.meta.internal.metals.H2ConnectionProvider.tryAutoServer(H2ConnectionProvider.scala:62)
	at scala.meta.internal.metals.H2ConnectionProvider.connect(H2ConnectionProvider.scala:44)
	at scala.meta.internal.metals.H2ConnectionProvider.connection(H2ConnectionProvider.scala:34)
	at scala.meta.internal.metals.Tables.$anonfun$dismissedNotifications$1(Tables.scala:27)
	at scala.meta.internal.metals.DismissedNotifications$Notification.isDismissed(DismissedNotifications.scala:63)
	at scala.meta.internal.metals.utils.RequestRegistry.$anonfun$register$1(RequestRegistry.scala:63)
	at scala.meta.internal.metals.utils.RequestRegistry.$anonfun$register$1$adapted(RequestRegistry.scala:63)
	at scala.Option.exists(Option.scala:406)
	at scala.meta.internal.metals.utils.RequestRegistry.register(RequestRegistry.scala:63)
	at scala.meta.internal.metals.BuildServerConnection.scala$meta$internal$metals$BuildServerConnection$$runWithCanceling$1(BuildServerConnection.scala:511)
	at scala.meta.internal.metals.BuildServerConnection.$anonfun$register$3(BuildServerConnection.scala:521)
	at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:470)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Error opening database: "Sleep interrupted" [8000-230]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:516)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 31 more
Caused by: java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleepNanos0(Native Method)
	at java.base/java.lang.Thread.sleepNanos(Thread.java:496)
	at java.base/java.lang.Thread.sleep(Thread.java:527)
	at org.h2.store.FileLock.sleep(FileLock.java:422)
	... 28 more
